namespace = IRCK3_earthquake

#Historical earthquakes in the timeline of IRCK3:
	#sources: https://en.wikipedia.org/wiki/List_of_historical_earthquakes#Pre-11th_century
	# 226 BC Rhodes earthquake
	# 60 BC	earthquake on Portugal and Galicia coasts
	# 17 AD Lydia earthquake
	# 62 Pompeii earthquake
	# 115 Antioch earthquake
	# Galilee earthquake of 363
	# 365 Crete earthquake
	# 382 earthquake of Cape St. Vincent, Portugal
	# 526 Antioch earthquake
	# 551 Beirut earthquake
	# 749 Galilee earthquake
	# 847 Antioch earthquake
	# December AD 856 earthquake of Corinth, Greece
	# 856 Damghan earthquake

#226 BC Rhodes earthquake
IRCK3_earthquake.1 = {
    type = country_event
    title = IRCK3_earthquake.1.t
    desc = IRCK3_earthquake.1.desc
    picture = natural_disaster
    fire_only_once = yes
    goto_location = p:266 #Rhodos

    trigger = {
    	owns = 266 # Rhodos
    	AND = {
   			current_date >= 528.1.1 #226 BC
   			current_date < 529.1.1
    	}
    }

    immediate = {
    }

    option = {      
        name = IRCK3_earthquake.1.a
        add_treasury = {
			subtract = root.has_monthly_income
			multiply = 4
		}
		current_ruler = {
			add_popularity = popularity_medium
		}
        p:266 = {
	    	custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 730
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
        }
    }
    option = {      
        name = IRCK3_earthquake.1.b
        p:266 = {
	        custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 2555
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
        }
    }
}

#60 BC earthquake on Portugal and Galicia coasts; caused a tsunami
IRCK3_earthquake.2 = {
    type = country_event
    title = IRCK3_earthquake.2.t
    desc = IRCK3_earthquake.2.desc
    picture = natural_disaster
    goto_location = random_60bc_earthquake_province

    trigger = {
    	any_owned_province = {
    		OR = {
	    		is_in_area = callaecia_septentrionalis_area
	    		is_in_area = callaecia_meridionalis_area
	    		is_in_area = aebocosia_area
    		}
	    	is_coastal = yes
    		NOR = {
    			province_id = 1136
    			province_id = 1134
    			province_id = 1133
    			province_id = 1132
    			province_id = 1131
    			province_id = 1130
    		}
    	}
    	AND = {
   			current_date >= 694.1.1 #60 BC
   			current_date < 695.1.1
    	}
    }

    immediate = {
    	random_owned_province = {
			limit = {
				OR = {
		    		is_in_area = callaecia_septentrionalis_area
		    		is_in_area = callaecia_meridionalis_area
		    		is_in_area = aebocosia_area
	    		}
	    		is_coastal = yes
	    		NOR = {
	    			province_id = 1136
	    			province_id = 1134
	    			province_id = 1133
	    			province_id = 1132
	    			province_id = 1131
	    			province_id = 1130
	    		}
			}
			save_scope_as = random_60bc_earthquake_province
		}
    }

    option = {
        name = IRCK3_earthquake.2.a
    	add_treasury = {
			subtract = root.has_monthly_income
			multiply = 4
		}
		current_ruler = {
			add_popularity = popularity_medium
		}
        every_owned_province = {
			limit = {
				OR = {
		    		is_in_area = callaecia_septentrionalis_area
		    		is_in_area = callaecia_meridionalis_area
		    		is_in_area = aebocosia_area
	    		}
	    		is_coastal = yes
	    		NOR = {
	    			province_id = 1136
	    			province_id = 1134
	    			province_id = 1133
	    			province_id = 1132
	    			province_id = 1131
	    			province_id = 1130
	    		}
			}
			custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 730
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
		}
    }
    option = {      
        name = IRCK3_earthquake.2.b
        every_owned_province = {
			limit = {
				OR = {
		    		is_in_area = callaecia_septentrionalis_area
		    		is_in_area = callaecia_meridionalis_area
		    		is_in_area = aebocosia_area
	    		}
	    		is_coastal = yes
	    		NOR = {
	    			province_id = 1136
	    			province_id = 1134
	    			province_id = 1133
	    			province_id = 1132
	    			province_id = 1131
	    			province_id = 1130
	    		}
			}
	        custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 2555
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
        }
    }
}

#17 AD Lydia earthquake
IRCK3_earthquake.3 = {
    type = country_event
    title = IRCK3_earthquake.3.t
    desc = IRCK3_earthquake.3.desc
    picture = natural_disaster
    goto_location = random_17ad_earthquake_province

    trigger = {
    	any_owned_province = {
    		OR = {
    			province_id = 278 # Pergamon
    			province_id = 279 # Myrina
    			province_id = 285 # Cyme
    			province_id = 287 # Smyrna
    			province_id = 296 # Magnesia
    			province_id = 292 # Sardis
    			province_id = 290 # Ephesus
    			province_id = 1946 # Hierapolis
    			province_id = 1958 # Kibyra
    			province_id = 293 # Philadelphia
    			province_id = 298 # Aigai
    			province_id = 299 # Hyrkanis
    		}
    	}
    	AND = {
   			current_date >= 770.1.1 #17 AD
   			current_date < 771.1.1
    	}
    }

    immediate = {
    	random_owned_province = {
			limit = {
				OR = {
	    			province_id = 278 # Pergamon
	    			province_id = 279 # Myrina
	    			province_id = 285 # Cyme
	    			province_id = 287 # Smyrna
	    			province_id = 296 # Magnesia
	    			province_id = 292 # Sardis
	    			province_id = 290 # Ephesus
	    			province_id = 1946 # Hierapolis
	    			province_id = 1958 # Kibyra
	    			province_id = 293 # Philadelphia
	    			province_id = 298 # Aigai
	    			province_id = 299 # Hyrkanis
	    		}
			}
			save_scope_as = random_17ad_earthquake_province
		}
    }

    option = {
        name = IRCK3_earthquake.3.a
    	add_treasury = {
			subtract = root.has_monthly_income
			multiply = 4
		}
		current_ruler = {
			add_popularity = popularity_medium
		}
        every_owned_province = {
			limit = {
				OR = {
	    			province_id = 278 # Pergamon
	    			province_id = 279 # Myrina
	    			province_id = 285 # Cyme
	    			province_id = 287 # Smyrna
	    			province_id = 296 # Magnesia
	    			province_id = 292 # Sardis
	    			province_id = 290 # Ephesus
	    			province_id = 1946 # Hierapolis
	    			province_id = 1958 # Kibyra
	    			province_id = 293 # Philadelphia
	    			province_id = 298 # Aigai
	    			province_id = 299 # Hyrkanis
	    		}
			}
			custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 730
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
		}
    }
    option = {      
        name = IRCK3_earthquake.3.b
        every_owned_province = {
			limit = {
				OR = {
	    			province_id = 278 # Pergamon
	    			province_id = 279 # Myrina
	    			province_id = 285 # Cyme
	    			province_id = 287 # Smyrna
	    			province_id = 296 # Magnesia
	    			province_id = 292 # Sardis
	    			province_id = 290 # Ephesus
	    			province_id = 1946 # Hierapolis
	    			province_id = 1958 # Kibyra
	    			province_id = 293 # Philadelphia
	    			province_id = 298 # Aigai
	    			province_id = 299 # Hyrkanis
	    		}
			}
	        custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 2555
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
        }
    }
}

#62 AD Pompeii earthquake
IRCK3_earthquake.4 = {
    type = country_event
    title = IRCK3_earthquake.4.t
    desc = IRCK3_earthquake.4.desc
    picture = natural_disaster
    fire_only_once = yes
    goto_location = random_62ad_earthquake_province

    trigger = {
    	OR = {
    		owns = 9 #Pompeii
    		owns = 1713 # Nuceria
    	}
    	AND = {
   			current_date >= 815.1.1 #62 AD
   			current_date < 816.1.1
    	}
    }

    immediate = {
    	random_owned_province = {
			limit = {
				OR = {
	    			province_id = 9 # Pompeii
	    			province_id = 1713 #Nuceria
	    		}
			}
			save_scope_as = random_62ad_earthquake_province
		}
    }

    option = {      
        name = IRCK3_earthquake.4.a
        add_treasury = {
			subtract = root.has_monthly_income
			multiply = 4
		}
		current_ruler = {
			add_popularity = popularity_medium
		}
        every_owned_province = {
			limit = {
				OR = {
	    			province_id = 9 # Pompeii
	    			province_id = 1713 #Nuceria
	    		}
			}
	    	custom_tooltip = "earthquake_minor.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_affected
				duration = 730
			}
			hidden_effect = {
				province_pop_disaster_minor = yes
			}
        }
    }
    option = {
        name = IRCK3_earthquake.4.b
		every_owned_province = {
			limit = {
				OR = {
	    			province_id = 9 # Pompeii
	    			province_id = 1713 #Nuceria
	    		}
			}
	        custom_tooltip = "earthquake_minor.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_affected
				duration = 2555
			}
			hidden_effect = {
				province_pop_disaster_minor = yes
			}
        }
    }
}

#115 Antioch earthquake
IRCK3_earthquake.5 = {
    type = country_event
    title = IRCK3_earthquake.5.t
    desc = IRCK3_earthquake.5.desc
    picture = natural_disaster
    fire_only_once = yes
    goto_location = p:790 # Antioch

    trigger = {
    	OR = {
    		owns = 790 # Antioch
    		owns = 782 # Apamea
    		owns = 748 # Beirut
    	}
    	AND = {
   			current_date >= 868.1.1 #115 AD
   			current_date < 869.1.1
    	}
    }

    immediate = {
    	random_owned_province = {
			limit = {
				OR = {
	    			province_id = 790 # Antioch
    				province_id = 782 # Apamea
    				province_id = 748 # Beirut
	    		}
			}
			save_scope_as = random_115ad_earthquake_province
		}
    }

    option = {      
        name = IRCK3_earthquake.5.a
        add_treasury = {
			subtract = root.has_monthly_income
			multiply = 4
		}
		current_ruler = {
			add_popularity = popularity_medium
		}
        every_owned_province = {
			limit = {
				OR = {
	    			province_id = 790 # Antioch
    				province_id = 782 # Apamea
	    		}
			}
	        custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 730
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
        }
		every_owned_province = {
			limit = {
				province_id = 748 # Beirut
			}
	        custom_tooltip = "earthquake_minor.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_affected
				duration = 730
			}
			hidden_effect = {
				province_pop_disaster_minor = yes
			}
        }
    }
    option = {
        name = IRCK3_earthquake.5.b
        every_owned_province = {
			limit = {
				OR = {
	    			province_id = 790 # Antioch
    				province_id = 782 # Apamea
	    		}
			}
	        custom_tooltip = "earthquake_medium.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_ravaged
				duration = 2555
			}
			hidden_effect = {
				province_pop_disaster_medium = yes
			}
        }
		every_owned_province = {
			limit = {
				province_id = 748 # Beirut
			}
	        custom_tooltip = "earthquake_minor.tt"
			add_province_modifier = {
				name = province_diminishment_earthquake_affected
				duration = 2555
			}
			hidden_effect = {
				province_pop_disaster_minor = yes
			}
        }
    }
}